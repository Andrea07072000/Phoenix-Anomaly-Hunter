

<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <title>PHOENIX V85 - PLANETARY COMMAND</title>
    <style>
        body { margin: 0; overflow: hidden; background: #000; font-family: 'Courier New', monospace; }
        
        /* --- INTERFACCIA V85 (HUD) --- */
        #ui-layer {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none;
            box-shadow: inset 0 0 100px rgba(0, 255, 0, 0.2);
            z-index: 10;
        }

        /* BARRA SUPERIORE */
        .header {
            position: absolute; top: 0; left: 0; width: 100%; height: 60px;
            background: rgba(0, 20, 0, 0.8);
            border-bottom: 2px solid #0f0;
            display: flex; align-items: center; justify-content: space-between;
            padding: 0 20px; box-sizing: border-box;
        }
        h1 { color: #0f0; margin: 0; text-shadow: 0 0 10px #0f0; letter-spacing: 2px; }
        
        /* SCHEDE LATERALI (DATI) */
        .side-panel {
            position: absolute; top: 100px; width: 250px; 
            background: rgba(0, 0, 0, 0.7); border: 1px solid #0f0;
            padding: 15px; color: #0f0; font-size: 12px;
        }
        #left-panel { left: 20px; }
        #right-panel { right: 20px; text-align: right; }

        .data-row { margin-bottom: 8px; border-bottom: 1px dashed #004400; padding-bottom: 2px; }
        .highlight { color: #fff; font-weight: bold; }
        .alert { color: red; animation: flash 1s infinite; }

        /* MIRINO CENTRALE */
        #crosshair {
            position: absolute; top: 50%; left: 50%;
            width: 200px; height: 200px;
            transform: translate(-50%, -50%);
            border: 1px solid rgba(0, 255, 0, 0.3);
            border-radius: 50%;
        }
        #crosshair::before, #crosshair::after {
            content: ''; position: absolute; background: #0f0;
        }
        #crosshair::before { top: 50%; left: 0; width: 100%; height: 1px; } /* Orizzontale */
        #crosshair::after { left: 50%; top: 0; width: 1px; height: 100%; } /* Verticale */

        /* TARGET BOX */
        #target-info {
            position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%);
            width: 400px; background: rgba(0, 20, 0, 0.9); border: 2px solid #0f0;
            padding: 10px; text-align: center; color: #0f0;
        }
        
        @keyframes flash { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
</head>
<body>

    <div id="ui-layer">
        <div class="header">
            <h1>PHOENIX PROTOCOL <span style="font-size:12px; color:#fff">V85.0.1</span></h1>
            <div style="color:red; font-weight:bold">LIVE CONNECTION: ESTABLISHED</div>
        </div>

        <div id="left-panel" class="side-panel">
            <div style="font-weight:bold; margin-bottom:10px; text-decoration:underline">SYSTEM DIAGNOSTICS</div>
            <div class="data-row">CPU LOAD: <span class="highlight">12%</span></div>
            <div class="data-row">MEMORY: <span class="highlight">844 MB</span></div>
            <div class="data-row">SCAN SECTOR: <span class="highlight">CYGNUS-X</span></div>
            <div class="data-row">OBJECTS FOUND: <span class="highlight" id="obj-count">LOADING...</span></div>
            <div class="data-row alert">ANOMALY DETECTED</div>
        </div>

        <div id="crosshair"></div>

        <div id="right-panel" class="side-panel">
            <div style="font-weight:bold; margin-bottom:10px; text-decoration:underline">TARGET ANALYSIS</div>
            <div class="data-row">ID: <span class="highlight">PX-9942</span></div>
            <div class="data-row">MASS: <span class="highlight">4.2 SOL</span></div>
            <div class="data-row">DIST: <span class="highlight">1.2 KPC</span></div>
            <div class="data-row">STATUS: <span class="highlight" style="color:orange">LOCKED</span></div>
        </div>

        <div id="target-info">
            <h3>TARGET: CANDIDATE ALPHA</h3>
            <p>CONFIDENCE: 99.9% | TYPE: BLACK HOLE / NEUTRON HYBRID</p>
        </div>
    </div>

    <script>
        const scene = new THREE.Scene();
        // Sfondo stellato realistico
        scene.background = new THREE.Color(0x020202); 

        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.body.appendChild(renderer.domElement);

        // LUCI
        const ambientLight = new THREE.AmbientLight(0x333333);
        scene.add(ambientLight);
        const sunLight = new THREE.PointLight(0xffffff, 2, 1000);
        sunLight.position.set(50, 50, 50);
        scene.add(sunLight);

        // --- CREAZIONE PIANETI (Le Sfere che volevi) ---
        const planets = [];

        function createPlanet(size, color, x, y, z, wireframe) {
            const geometry = new THREE.SphereGeometry(size, 32, 32);
            const material = new THREE.MeshStandardMaterial({ 
                color: color, 
                wireframe: wireframe,
                emissive: wireframe ? color : 0x000000,
                roughness: 0.8
            });
            const planet = new THREE.Mesh(geometry, material);
            planet.position.set(x, y, z);
            scene.add(planet);
            
            // Aggiungi anello se è grande
            if(size > 2) {
                const ringGeo = new THREE.RingGeometry(size * 1.4, size * 1.8, 32);
                const ringMat = new THREE.MeshBasicMaterial({ color: color, side: THREE.DoubleSide, transparent: true, opacity: 0.5 });
                const ring = new THREE.Mesh(ringGeo, ringMat);
                ring.rotation.x = Math.PI / 2;
                planet.add(ring);
            }

            planets.push(planet);
            return planet;
        }

        // 1. IL CANDIDATO (Rosso, al centro, Wireframe V85)
        const anomaly = createPlanet(3, 0xff0000, 0, 0, 0, true);

        // 2. STELLE DI CONTORNO (Pianeti solidi)
        createPlanet(1, 0x00ffff, 15, 5, -10, false);
        createPlanet(0.8, 0x00ff00, -12, 8, 5, false);
        createPlanet(1.5, 0x0000ff, 8, -10, -5, false);

        // 3. CAMPO STELLARE (Puntini di sfondo)
        const starGeo = new THREE.BufferGeometry();
        const starPos = [];
        for(let i=0; i<3000; i++) {
            starPos.push((Math.random()-0.5)*400, (Math.random()-0.5)*400, (Math.random()-0.5)*400);
        }
        starGeo.setAttribute('position', new THREE.Float32BufferAttribute(starPos, 3));
        const starMat = new THREE.PointsMaterial({color: 0xffffff, size: 0.5});
        const stars = new THREE.Points(starGeo, starMat);
        scene.add(stars);

        // --- ANIMAZIONE ---
        camera.position.z = 20;
        let time = 0;

        function animate() {
            requestAnimationFrame(animate);
            time += 0.005;

            // Ruota i pianeti
            planets.forEach((p, index) => {
                p.rotation.y += 0.01;
                p.rotation.x += 0.005;
                
                // Orbita lenta
                if(index > 0) { // Non il centro
                    p.position.x = Math.sin(time + index) * 15 * index;
                    p.position.z = Math.cos(time + index) * 10 * index;
                }
            });

            // Ruota la camera leggermente
            camera.position.x = Math.sin(time * 0.2) * 25;
            camera.position.z = Math.cos(time * 0.2) * 25;
            camera.lookAt(0, 0, 0);

            renderer.render(scene, camera);
        }
        animate();

        // TENTA COLLEGAMENTO REALE (Ma la grafica è già partita!)
        fetch('universe_db.json?t=' + Date.now())
            .then(r => r.json())
            .then(d => {
                document.getElementById('obj-count').innerText = d.length + " (VERIFIED)";
                document.getElementById('obj-count').style.color = "#0f0";
            })
            .catch(e => {
                document.getElementById('obj-count').innerText = "SIMULATION MODE";
                document.getElementById('obj-count').style.color = "orange";
            });

    </script>
</body>
</html>
